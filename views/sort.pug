extends layout

block head
  link(href='css/statements.css', rel='stylesheet')
  title Заявления

block body
  if type=="user"
    .container-fluid
      .row
        .col-sm-3.col-md-2.sidebar
          ul.nav.nav-sidebar
            li.active
              a(href='') Мои заявления
            //li
              a(href='/profile') Профиль

        .col-sm-9.col-sm-offset-3.col-md-10.col-md-offset-2.main
          select
            option Все
            option Просмотрено
            option Не просмотрено
          select
            option Все
            option Принято
            option Не принято
          button(onclick="show()") Показать

          table.table.table-bordered
            thead
              tr
                th Текст заявления
                th Просмотрено?
                th Принято?
            tbody
              -for (var i=0;i<statements.length;i++)
              tr
              for j in statements[i]
                if j==false
                  td
                    span.glyphicon.glyphicon-minus
                else if j==true
                  td
                    span.glyphicon.glyphicon-ok
                else
                  td
                    p(id="st"+i)=j
              td(style="border-bottom: hidden;border-top: hidden;border-right: hidden;", id="td"+i)
                span.glyphicon.glyphicon-pencil.btn.btn-link.change(onclick="change("+i+")")
                span.glyphicon.glyphicon-remove.btn.btn-link.remove(onclick="remove("+i+")")
          .container(align="center")
            button(onclick="add()").btn.btn-default.add-btn Добавить заявление
            .container.submit
              form(action="/statements",method="POST")
                textarea.form-control.text(name="text", required)
                br
                button(type="submit").btn.btn-default.submit-btn Добавить

  else
    .container-fluid
      .row
        .col-sm-3.col-md-2.sidebar
          ul.nav.nav-sidebar
            li.active
              a(href='#') Просмотр заявлений

        .col-sm-9.col-sm-offset-3.col-md-10.col-md-offset-2.main
          table.table.table-bordered
            thead
              tr
                th Текст заявления
                th Просмотрено?
                th Принято?
            tbody
              -for (var m=0;m<statements.length;m++)
              tr
                td=statements[m]['text']
                if statements[m]['viewed']==true
                  td
                    span.glyphicon.glyphicon-ok.btn.btn-link
                else
                  td
                    span.glyphicon.glyphicon-minus.btn.btn-link(onclick="viewed(" + m + ")")
                if statements[m]['accepted']==true
                  td
                    span.glyphicon.glyphicon-ok.btn.btn-link
                else
                  td
                    span.glyphicon.glyphicon-minus.btn.btn-link(onclick="accepted(" + m + ")")

  include scripts
  script(src="/js/statements.js")